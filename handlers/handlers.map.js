!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e["hyperactiv-handlers"]=r()}(this,function(){"use strict";return{write:function(e){if(!e)throw new Error("writeHandler needs a proper target !");return function(r,n){n=(t=n)&&"object"==typeof t?JSON.parse(JSON.stringify(n)):n;var t;for(let n=0;n<r.length-1;n++){const t=r[n],i=r[n+1];void 0===e[t]&&(e[t]=(o=i,Number.isInteger(Number.parseInt(o))?[]:{})),e=e[t]}var o;e[r[r.length-1]]=n}},debug:function(e){return e=e||console,function(r,n){const t=r.map(e=>Number.isInteger(Number.parseInt(e))?`[${e}]`:`.${e}`).join("").substr(1);e.log(`${t} = ${JSON.stringify(n,null,"\t")}`)}},all:function(e){return Array.isArray(e)?(r,n,t)=>e.forEach(e=>e(r,n,t)):e}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlcnMubWFwLmpzIiwic291cmNlcyI6WyIuLi9zcmMvaGFuZGxlcnMvaW5kZXguanMiLCIuLi9zcmMvaGFuZGxlcnMvd3JpdGUuanMiLCIuLi9zcmMvaGFuZGxlcnMvZGVidWcuanMiLCIuLi9zcmMvaGFuZGxlcnMvYWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFsbEhhbmRsZXIgfSBmcm9tICcuL2FsbCdcbmltcG9ydCB7IGRlYnVnSGFuZGxlciB9IGZyb20gJy4vZGVidWcnXG5pbXBvcnQgeyB3cml0ZUhhbmRsZXIgfSBmcm9tICcuL3dyaXRlJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgd3JpdGU6IHdyaXRlSGFuZGxlcixcbiAgICBkZWJ1ZzogZGVidWdIYW5kbGVyLFxuICAgIGFsbDogYWxsSGFuZGxlclxufSIsImNvbnN0IGlzT2JqID0gZnVuY3Rpb24obykgeyByZXR1cm4gbyAmJiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgfVxuY29uc3QgZ2V0V3JpdGVDb250ZXh0ID0gZnVuY3Rpb24ocHJvcCkge1xuICAgIHJldHVybiBOdW1iZXIuaXNJbnRlZ2VyKE51bWJlci5wYXJzZUludChwcm9wKSkgPyBbXSA6IHt9XG59XG5leHBvcnQgY29uc3Qgd3JpdGVIYW5kbGVyID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgaWYoIXRhcmdldCkgdGhyb3cgbmV3IEVycm9yKCd3cml0ZUhhbmRsZXIgbmVlZHMgYSBwcm9wZXIgdGFyZ2V0ICEnKVxuICAgIHJldHVybiBmdW5jdGlvbihwcm9wcywgdmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBpc09iaih2YWx1ZSkgPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlKSkgOiB2YWx1ZVxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wID0gcHJvcHNbaV0sIG5leHRQcm9wID0gcHJvcHNbaSArIDFdXG4gICAgICAgICAgICBpZih0eXBlb2YgdGFyZ2V0W3Byb3BdID09PSAndW5kZWZpbmVkJykgdGFyZ2V0W3Byb3BdID0gZ2V0V3JpdGVDb250ZXh0KG5leHRQcm9wKVxuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W3Byb3BdXG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0W3Byb3BzW3Byb3BzLmxlbmd0aCAtIDFdXSA9IHZhbHVlXG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBkZWJ1Z0hhbmRsZXIgPSBmdW5jdGlvbihsb2dnZXIpIHtcbiAgICBsb2dnZXIgPSBsb2dnZXIgfHwgY29uc29sZVxuICAgIHJldHVybiBmdW5jdGlvbihwcm9wcywgdmFsdWUpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IHByb3BzLm1hcChwcm9wID0+IE51bWJlci5pc0ludGVnZXIoTnVtYmVyLnBhcnNlSW50KHByb3ApKSA/IGBbJHtwcm9wfV1gIDogYC4ke3Byb3B9YCkuam9pbignJykuc3Vic3RyKDEpXG4gICAgICAgIGxvZ2dlci5sb2coYCR7a2V5c30gPSAke0pTT04uc3RyaW5naWZ5KHZhbHVlLCBudWxsLCAnXFx0Jyl9YClcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IGFsbEhhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVycykge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGhhbmRsZXJzKSA/XG4gICAgICAgIChrZXlzLCB2YWx1ZSwgcHJveHkpID0+IGhhbmRsZXJzLmZvckVhY2goZm4gPT4gZm4oa2V5cywgdmFsdWUsIHByb3h5KSkgOlxuICAgICAgICBoYW5kbGVyc1xufSJdLCJuYW1lcyI6WyJ3cml0ZSIsInRhcmdldCIsIkVycm9yIiwicHJvcHMiLCJ2YWx1ZSIsIm8iLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJpIiwibGVuZ3RoIiwicHJvcCIsIm5leHRQcm9wIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwicGFyc2VJbnQiLCJkZWJ1ZyIsImxvZ2dlciIsImNvbnNvbGUiLCJrZXlzIiwibWFwIiwiam9pbiIsInN1YnN0ciIsImxvZyIsImFsbCIsImhhbmRsZXJzIiwiQXJyYXkiLCJpc0FycmF5IiwicHJveHkiLCJmb3JFYWNoIiwiZm4iXSwibWFwcGluZ3MiOiJ5TUFLSUEsTUNEd0IsU0FBU0MsR0FDakMsSUFBSUEsRUFBUSxNQUFNLElBQUlDLE1BQU0sd0NBQzVCLE9BQU8sU0FBU0MsRUFBT0MsR0FDbkJBLEdBUGVDLEVBT0RELElBUCtCLGlCQUFOQyxFQU9oQkMsS0FBS0MsTUFBTUQsS0FBS0UsVUFBVUosSUFBVUEsRUFQckQsSUFBU0MsRUFRZixJQUFJLElBQUlJLEVBQUksRUFBR0EsRUFBSU4sRUFBTU8sT0FBUyxFQUFHRCxJQUFLLENBQ3RDLE1BQU1FLEVBQU9SLEVBQU1NLEdBQUlHLEVBQVdULEVBQU1NLEVBQUksUUFDakIsSUFBakJSLEVBQU9VLEtBQXVCVixFQUFPVSxJQVQxQkEsRUFTa0RDLEVBUnhFQyxPQUFPQyxVQUFVRCxPQUFPRSxTQUFTSixZQVNoQ1YsRUFBU0EsRUFBT1UsR0FWSixJQUFTQSxFQVl6QlYsRUFBT0UsRUFBTUEsRUFBTU8sT0FBUyxJQUFNTixJRFB0Q1ksTUVOd0IsU0FBU0MsR0FFakMsT0FEQUEsRUFBU0EsR0FBVUMsUUFDWixTQUFTZixFQUFPQyxHQUNuQixNQUFNZSxFQUFPaEIsRUFBTWlCLElBQUlULEdBQVFFLE9BQU9DLFVBQVVELE9BQU9FLFNBQVNKLFFBQWFBLFNBQWNBLEtBQVFVLEtBQUssSUFBSUMsT0FBTyxHQUNuSEwsRUFBT00sT0FBT0osT0FBVWIsS0FBS0UsVUFBVUosRUFBTyxLQUFNLFdGR3hEb0IsSUdQc0IsU0FBU0MsR0FDL0IsT0FBT0MsTUFBTUMsUUFBUUYsR0FDakIsQ0FBQ04sRUFBTWYsRUFBT3dCLElBQVVILEVBQVNJLFFBQVFDLEdBQU1BLEVBQUdYLEVBQU1mLEVBQU93QixJQUMvREgifQ==
